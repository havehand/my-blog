{"version":3,"sources":["webpack:///./src/components/ImageLoader/index.vue?71f5","webpack:///./src/views/Home/index.vue?f645","webpack:///./src/views/Home/Carouselitem.vue?3014","webpack:///./src/components/ImageLoader/index.vue?314b","webpack:///src/components/ImageLoader/index.vue","webpack:///./src/components/ImageLoader/index.vue?dbe5","webpack:///./src/components/ImageLoader/index.vue","webpack:///./src/views/Home/Words.vue?052d","webpack:///src/views/Home/Words.vue","webpack:///./src/views/Home/Words.vue?322e","webpack:///./src/views/Home/Words.vue","webpack:///src/views/Home/Carouselitem.vue","webpack:///./src/views/Home/Carouselitem.vue?77d2","webpack:///./src/views/Home/Carouselitem.vue","webpack:///src/views/Home/index.vue","webpack:///./src/views/Home/index.vue?c7c2","webpack:///./src/views/Home/index.vue","webpack:///./src/views/Home/index.vue?efa3","webpack:///./src/views/Home/Words.vue?6170","webpack:///./src/views/Home/Carouselitem.vue?e3bd"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","ref","staticClass","on","handWheel","style","marginTop","setMarginTop","handleTransitionEnd","_l","item","key","id","refInFor","attrs","index","$event","clickBtn","data","length","i","class","active","switchTo","staticRenderFns","handleMouseMove","handleMouseLeave","carousel","bigImg","midImg","showWords","_v","_s","title","description","everyThingDone","_e","placeholder","opacity","originOpacity","transitionDuration","duration","src","handleLoaded","props","type","String","request","default","originLoaded","computed","methods","setTimeout","component","Object","domWidth","getIndex","mounted","$refs","width","desc","clientWidth","Number","components","ImageLoader","titleWidth","descWidth","carouselDom","containerSize","innerSize","mouseX","mouseY","imagePosition","transform","center","x","y","height","getWidth","ruinDom","setSize","window","addEventListener","destroyed","removeEventListener","containerDom","clientHeight","imgContainer","removeDom","removeChild","dom","appendChild","e","clientX","rect","left","clientY","top","CarouselItem","Icon","created","fetchBanner","containerHeight","isSwitching","lastIndex","container","handleResize","deltaY"],"mappings":"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","file":"js/chunk-1bd005f8-legacy.4da9c759.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2bba04e8&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"container\",staticClass:\"home-container\",on:{\"wheel\":_vm.handWheel}},[_c('ul',{staticClass:\"carousel-container\",style:({marginTop: _vm.setMarginTop}),on:{\"transitionend\":_vm.handleTransitionEnd}},_vm._l((_vm.data),function(item){return _c('li',{key:item.id},[_c('CarouselItem',{key:item.id,ref:\"carouse\",refInFor:true,attrs:{\"carousel\":item,\"index\":_vm.index}})],1)}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.index >= 1),expression:\"index >= 1\"}],staticClass:\"icon icon-up\",on:{\"click\":function($event){return _vm.clickBtn(_vm.index - 1)}}},[_c('Icon',{attrs:{\"type\":\"arrowUp\",\"size\":30}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.index < _vm.data.length - 1),expression:\"index < data.length - 1\"}],staticClass:\"icon icon-down\",on:{\"click\":function($event){return _vm.clickBtn(_vm.index + 1)}}},[_c('Icon',{attrs:{\"type\":\"arrowDown\",\"size\":30}})],1),_c('ul',{staticClass:\"indicator\"},_vm._l((_vm.data),function(item,i){return _c('li',{key:item.id,class:{active : i === _vm.index},on:{\"click\":function($event){return _vm.switchTo(i)}}})}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"containerDom\",staticClass:\"carouse-item-container\",on:{\"mousemove\":_vm.handleMouseMove,\"mouseleave\":_vm.handleMouseLeave}},[_c('div',{ref:\"imgContainer\",staticClass:\"carousel-img\",style:(_vm.imagePosition)},[_c('ImageLoader',{attrs:{\"src\":_vm.carousel.bigImg,\"placeholder\":_vm.carousel.midImg,\"duration\":1000},on:{\"load\":_vm.showWords}})],1),_c('div',{ref:\"title\",staticClass:\"title-text\"},[_vm._v(_vm._s(_vm.carousel.title))]),_c('div',{ref:\"desc\",staticClass:\"desc-text\"},[_vm._v(_vm._s(_vm.carousel.description))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ImageLoaderContainer\"},[(!_vm.everyThingDone)?_c('img',{staticClass:\"img1\",attrs:{\"src\":_vm.placeholder,\"alt\":\"\"}}):_vm._e(),_c('img',{staticClass:\"img2\",style:({opacity: _vm.originOpacity,transitionDuration: _vm.duration+'ms'}),attrs:{\"src\":_vm.src,\"alt\":\"\"},on:{\"load\":_vm.handleLoaded}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ImageLoaderContainer\">\r\n    <img v-if=\"!everyThingDone\" :src=\"placeholder\" alt=\"\" class=\"img1\">\r\n    <img @load=\"handleLoaded\" :src=\"src\" alt=\"\" class=\"img2\" :style=\"{opacity: originOpacity,transitionDuration: duration+'ms'}\">\r\n  </div>\r\n</template>>\r\n\r\n<script>\r\nexport default {\r\n  props:{\r\n    src:{\r\n      type: String,\r\n      request: true\r\n    },\r\n    placeholder:{\r\n      type: String,\r\n      request: true\r\n    },\r\n    duration:{\r\n      type:Number,\r\n      default:3000\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      originLoaded: false,\r\n      everyThingDone: false\r\n    }\r\n  },\r\n  computed:{\r\n    originOpacity(){\r\n      return this.originLoaded? 1:0;\r\n    }\r\n  },\r\n  methods:{\r\n    handleLoaded() {\r\n      this.originLoaded = 1;\r\n      setTimeout(()=>{\r\n        this.everyThingDone = true;\r\n        this.$emit(\"load\");\r\n      },this.duration)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"../../styles/mixin\";\r\n  .ImageLoaderContainer{\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    img{\r\n      .self-fill();\r\n      object-fit: cover;\r\n    }\r\n    .img1{\r\n      filter: blur(10px);\r\n    }\r\n    .img2{\r\n      opacity: 0;\r\n      transition-property: all;\r\n    }\r\n    overflow: hidden;\r\n  }\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2bba04e8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2bba04e8&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bba04e8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"words-container\"},[_c('div',{ref:\"title\",staticClass:\"title\"},[_vm._v(_vm._s(_vm.carousel.title))]),_c('div',{ref:\"desc\",staticClass:\"desc\"},[_vm._v(_vm._s(_vm.carousel.description))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"words-container\">\r\n    <div class=\"title\" ref=\"title\">{{carousel.title}}</div>\r\n    <div class=\"desc\" ref=\"desc\">{{carousel.description}}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:{\r\n    carousel:{\r\n      type: Object,\r\n    },\r\n    domWidth:{\r\n      type: Object\r\n    },\r\n    getIndex:{\r\n      type: Object\r\n    }\r\n  },\r\n  mounted() {\r\n      this.showWords();\r\n  },\r\n  methods:{\r\n    showWords(){\r\n      this.$refs.title.style.width = 0;\r\n      this.$refs.desc.style.width = 0;\r\n\r\n      this.$refs.title.clientWidth;\r\n      this.$refs.desc.clientWidth;\r\n\r\n      setTimeout(()=>{\r\n        this.$refs.title.style.width = this.domWidth.title + 'px';\r\n        this.$refs.desc.style.width = this.domWidth.desc + 'px';\r\n      },100);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.words-container{\r\n  position: absolute;\r\n  top: calc(50% - 40px);\r\n  left: 7%;\r\n  .title, .desc{\r\n    overflow: hidden;\r\n    color: white;\r\n    position: absolute;\r\n    letter-spacing: 6px;\r\n    left: 7%;\r\n    transition: all 2s;\r\n    white-space: nowrap;\r\n    width: 0;\r\n    text-shadow: 1px 0 0 rgba(0,0,0,0.5),-1px 0 0 rgba(0,0,0,0.5),0 1px 0 rgba(0,0,0,0.5),0 -1px 0 rgba(0,0,0,0.5);\r\n  }\r\n  .title{\r\n    top: calc(50% - 40px);\r\n    font-size: 2em;\r\n  }\r\n  .desc{\r\n    top: calc(50% + 20px);\r\n    font-size: 1.2em;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Words.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Words.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Words.vue?vue&type=template&id=6602e3ed&scoped=true&\"\nimport script from \"./Words.vue?vue&type=script&lang=js&\"\nexport * from \"./Words.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Words.vue?vue&type=style&index=0&id=6602e3ed&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6602e3ed\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"carouse-item-container\" ref=\"containerDom\" @mousemove=\"handleMouseMove\" @mouseleave=\"handleMouseLeave\">\r\n    <div class=\"carousel-img\" ref=\"imgContainer\" :style=\"imagePosition\">\r\n      <ImageLoader @load=\"showWords\" :src=\"carousel.bigImg\" :placeholder=\"carousel.midImg\" :duration=\"1000\"></ImageLoader>\r\n    </div>\r\n    <div class=\"title-text\" ref=\"title\">{{carousel.title}}</div>\r\n    <div class=\"desc-text\" ref=\"desc\">{{carousel.description}}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImageLoader from \"@/components/ImageLoader\"\r\nimport Words from \"@/views/Home/Words\";\r\nimport getComponentRootDom from \"@/utils/getComponentRootDom\";\r\nexport default {\r\n  props:{\r\n    carousel:{\r\n      type: Object,\r\n      request: true\r\n    },\r\n    index:{\r\n      type: Number,\r\n      request: true\r\n    }\r\n  },\r\n  components:{\r\n    ImageLoader,\r\n  },\r\n  data(){\r\n    return{\r\n      titleWidth: 0,\r\n      descWidth: 0,\r\n      carouselDom: null,\r\n      containerSize: null,\r\n      innerSize: null,\r\n      mouseX: 0,\r\n      mouseY: 0\r\n    }\r\n  },\r\n  computed:{\r\n    imagePosition(){\r\n      if (!this.innerSize || !this.containerSize) {\r\n        return;\r\n      }\r\n      const extraWidth = this.innerSize.width - this.containerSize.width;\r\n      const extraHeight = this.innerSize.height - this.containerSize.height;\r\n      const left = -extraWidth / this.containerSize.width * this.mouseX;\r\n      const top = -extraHeight / this.containerSize.height * this.mouseY;\r\n      return {\r\n        transform: `translate(${left}px, ${top}px)`\r\n      };\r\n    },\r\n    center(){\r\n      return{\r\n        x: this.containerSize.width/2,\r\n        y: this.containerSize.height/2\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getWidth();\r\n    this.ruinDom();\r\n    this.setSize();\r\n    this.mouseX = this.center.x;\r\n    this.mouseY = this.center.y;\r\n    window.addEventListener(\"resize\", this.setSize);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\",this.setSize);\r\n  },\r\n  methods:{\r\n    setSize(){\r\n      this.containerSize = {\r\n        width: this.$refs.containerDom.clientWidth,\r\n        height: this.$refs.containerDom.clientHeight\r\n      };\r\n      this.innerSize = {\r\n        width: this.$refs.imgContainer.clientWidth,\r\n        height: this.$refs.imgContainer.clientHeight\r\n      };\r\n    },\r\n    handleMouseLeave(){\r\n      this.mouseX = this.center.x;\r\n      this.mouseY = this.center.y;\r\n    },\r\n    removeDom(){\r\n      this.$refs.containerDom.removeChild(this.carouselDom);\r\n    },\r\n    showWords(){\r\n      if (this.index === this.carousel.index){\r\n        const dom = getComponentRootDom(Words,{\r\n          carousel: this.carousel,\r\n          domWidth:{\r\n            title: this.titleWidth,\r\n            desc: this.descWidth\r\n          },\r\n          getIndex:{\r\n            index: this.index\r\n          }\r\n        });\r\n        this.carouselDom = dom;\r\n        this.$refs.containerDom.appendChild(dom);\r\n      }\r\n    },\r\n    getWidth(){\r\n      this.descWidth = this.$refs.desc.clientWidth;\r\n      this.titleWidth = this.$refs.title.clientWidth;\r\n    },\r\n    ruinDom(){\r\n      this.$refs.containerDom.removeChild(this.$refs.title);\r\n      this.$refs.containerDom.removeChild(this.$refs.desc);\r\n    },\r\n    handleMouseMove(e){\r\n      const rect = this.$refs.containerDom.getBoundingClientRect();\r\n      this.mouseX = e.clientX - rect.left;\r\n      this.mouseY = e.clientY - rect.top;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"../../styles/var\";\r\n.carouse-item-container{\r\n  background-color: @dark;\r\n  width: 100%;\r\n  height: 100%;\r\n  color: #fff;\r\n  position: relative;\r\n  overflow: hidden;\r\n  .carousel-img{\r\n    width: 120%;\r\n    height: 120%;\r\n    position: absolute;\r\n    transition: 0.3s;\r\n  }\r\n  .title-text, .desc-text{\r\n    overflow: hidden;\r\n    color: white;\r\n    position: absolute;\r\n    top: 0;\r\n    letter-spacing: 6px;\r\n    left: 7%;\r\n    opacity: 0;\r\n    transition: all 2s;\r\n    white-space: nowrap;\r\n    text-shadow: 1px 0 0 rgba(0,0,0,0.5),-1px 0 0 rgba(0,0,0,0.5),0 1px 0 rgba(0,0,0,0.5),0 -1px 0 rgba(0,0,0,0.5);\r\n  }\r\n  .title-text{\r\n    top: calc(50% - 40px);\r\n    font-size: 2em;\r\n  }\r\n  .desc-text{\r\n    top: calc(50% + 20px);\r\n    font-size: 1.2em;\r\n  }\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carouselitem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carouselitem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Carouselitem.vue?vue&type=template&id=b7b5ccd6&scoped=true&\"\nimport script from \"./Carouselitem.vue?vue&type=script&lang=js&\"\nexport * from \"./Carouselitem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Carouselitem.vue?vue&type=style&index=0&id=b7b5ccd6&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7b5ccd6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"home-container\" ref=\"container\" @wheel=\"handWheel\" v-loading=\"loading\">\r\n    <ul class=\"carousel-container\" :style=\"{marginTop: setMarginTop}\"  @transitionend=\"handleTransitionEnd\">\r\n      <li v-for=\"item in data\" :key=\"item.id\">\r\n        <CarouselItem :carousel=\"item\" :index=\"index\" ref=\"carouse\" :key=\"item.id\"></CarouselItem>\r\n      </li>\r\n    </ul>\r\n\r\n    <div class=\"icon icon-up\" v-show=\"index >= 1\" @click=\"clickBtn(index - 1)\">\r\n      <Icon type=\"arrowUp\" :size=\"30\"></Icon>\r\n    </div>\r\n    <div class=\"icon icon-down\" v-show=\"index < data.length - 1\" @click=\"clickBtn(index + 1)\">\r\n      <Icon type=\"arrowDown\" :size=\"30\"></Icon>\r\n    </div>\r\n\r\n    <ul class=\"indicator\">\r\n      <li v-for=\"(item, i) in data\" :key=\"item.id\" :class=\"{active : i === index}\" @click=\"switchTo(i)\"></li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState,mapActions} from \"vuex\";\r\nimport CarouselItem from \"@/views/Home/Carouselitem\";\r\nimport Icon from \"@/components/Icon\"\r\nexport default {\r\n  components:{\r\n    CarouselItem,\r\n    Icon,\r\n  },\r\n  created() {\r\n    this.fetchBanner();\r\n  },\r\n  data(){\r\n    return{\r\n      index: 0,\r\n      containerHeight: 0,\r\n      isSwitching: false,\r\n      lastIndex: 0,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.containerHeight = this.$refs.container.clientHeight;\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n  },\r\n  destroyed() {\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n  },\r\n  computed:{\r\n    setMarginTop(){\r\n      return -this.index * this.containerHeight + 'px';\r\n    },\r\n    ...mapState(\"banner\", [\"loading\", \"data\"])\r\n  },\r\n  methods:{\r\n    ...mapActions(\"banner\", [\"fetchBanner\"]),\r\n    clickBtn(i){\r\n      if (this.isSwitching){\r\n        return;\r\n      }\r\n      this.switchTo(i);\r\n    },\r\n    switchTo(i){\r\n      this.lastIndex = this.index;\r\n      this.index = i;\r\n      setTimeout(()=>{\r\n        this.$refs.carouse[this.index].showWords();\r\n        setTimeout(()=>{\r\n          this.$refs.carouse[this.lastIndex].removeDom();\r\n        },1000)\r\n      },0);\r\n    },\r\n    handWheel(e){\r\n      if (this.isSwitching){\r\n        return;\r\n      }\r\n      if (e.deltaY === 125 && this.index + 1 <= this.data.length - 1){\r\n        this.isSwitching = true;\r\n        this.switchTo(this.index + 1);\r\n      }\r\n      if (e.deltaY === -125 && this.index - 1 >= 0){\r\n        this.isSwitching = true;\r\n        this.switchTo(this.index - 1);\r\n      }\r\n    },\r\n    handleTransitionEnd(){\r\n      this.isSwitching = false;\r\n    },\r\n    handleResize(){\r\n      this.containerHeight = this.$refs.container.clientHeight;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"~@/styles/var\";\r\n@keyframes jump-up {\r\n  0%{\r\n    transform: translateY(5px);\r\n  }\r\n  50%{\r\n    transform: translateY(-5px);\r\n  }\r\n  100%{\r\n    transform: translateY(5px);\r\n  }\r\n}\r\n@keyframes jump-down {\r\n  0%{\r\n    transform: translateY(-5px);\r\n  }\r\n  50%{\r\n    transform: translateY(5px);\r\n  }\r\n  100%{\r\n    transform: translateY(-5px);\r\n  }\r\n}\r\n.home-container{\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n\r\n  //测试:\r\n  //width: 400px;\r\n  //height: 300px;\r\n  //overflow: visible;\r\n  //border: 2px solid #6b9eee;\r\n\r\n\r\n  .carousel-container{\r\n    width: 100%;\r\n    height: 100%;\r\n    transition: all 1s;\r\n    li{\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  ul{\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  .icon{\r\n    @gep: 15px;\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    font-weight: bold;\r\n    color: @gray;\r\n    cursor: pointer;\r\n    &.icon-up{\r\n      top: @gep;\r\n      animation: jump-up 2s infinite;\r\n    }\r\n    &.icon-down{\r\n      bottom: @gep;\r\n      animation: jump-down 2s infinite;\r\n    }\r\n  }\r\n  .indicator{\r\n    @size: 10px;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    right: 25px;\r\n    li{\r\n      width: @size;\r\n      height: @size;\r\n      border-radius: 50%;\r\n      background-color: @words;\r\n      margin: 10px 0;\r\n      border: 1px solid #fff;\r\n      box-sizing: border-box;\r\n      transition: 0.5s;\r\n      cursor: pointer;\r\n      &.active{\r\n        background-color: white;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7147c50d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7147c50d&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7147c50d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7147c50d&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Words.vue?vue&type=style&index=0&id=6602e3ed&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Carouselitem.vue?vue&type=style&index=0&id=b7b5ccd6&scoped=true&lang=less&\""],"sourceRoot":""}